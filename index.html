<!DOCTYPE html>
<html lang="ja">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Dashboard</title>
  <style>
    :root {
      --bg-dark:#3e3e3e;
  --card-bg:#4a4a4a;
  --panel-bg:#2f4b55;
  --text-main:#fff;
      font-family: monospace;
      
    }

    h1 { margin-left: 10px; font-size: 2.2em; }

    /* å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
    .dashboard-wrapper {
      display: flex;
      gap: 25px;
      align-items: stretch; /* é«˜ã•ã‚’æƒãˆã‚‹ */
    }

    /* --- å·¦ã‚«ãƒ©ãƒ ï¼šToday + Hourly --- */
    .left-column {
      display: flex;
      flex-direction: column;
      gap: 25px;
      flex: 2; /* å·¦å´ã®æ¯”ç‡ */
      min-width: 450px;
    }

    /* --- å³ã‚«ãƒ©ãƒ å…¨ä½“ --- */
    .right-column-container {
      display: flex;
      gap: 25px;
      flex: 3; /* å³å´ã®æ¯”ç‡ï¼ˆå·¦ã‚ˆã‚Šå°‘ã—åºƒãï¼‰ */
    }

    /* å³ã‚«ãƒ©ãƒ ã®ä¸­ã®ã€Œäºˆå ±ãƒ»Sunåˆ—ã€ï¼ˆç¸¦ä¸¦ã³ï¼‰ */
    .forecast-sun-column {
      display: flex;
      flex-direction: column;
      gap: 25px;
      flex: 1; /* å¹…ã®æ¯”ç‡ */
    }

    /* å³ã‚«ãƒ©ãƒ ã®ä¸­ã®ã€Œãƒã‚¤ãƒ©ã‚¤ãƒˆåˆ—ã€ */
    .highlight-column {
      flex: 1.5; /* ã“ã¡ã‚‰ã‚’å°‘ã—åºƒã */
      display: flex;
      flex-direction: column;
    }

    /* --- å„ã‚«ãƒ¼ãƒ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
    
    /* é»’ç³»èƒŒæ™¯ã®ã‚«ãƒ¼ãƒ‰ï¼ˆToday, Hourly, Forecast, Sunï¼‰ */
    .card, .hourly-container, .forecast-side, .sun-card {
      background: #4a4a4a;
      border-radius: 24px;
      box-sizing: border-box;
    }

    /* é’ç·‘ç³»èƒŒæ™¯ã®ã‚«ãƒ¼ãƒ‰ï¼ˆHighlightã®ã¿ï¼‰ */
    .highlight-side {
      background: #2f4b55;
      border-radius: 24px;
      padding: 30px;
      height: 100%; /* é«˜ã•ã‚’è¦ªã«åˆã‚ã›ã‚‹ */
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* Todayã‚«ãƒ¼ãƒ‰ */
    .card {
      padding: 55px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* Hourlyã‚«ãƒ¼ãƒ‰ */
    .hourly-container {
      padding: 30px 20px;
      display: flex;
      justify-content: space-around;
      align-items: center;
    }

    /* Forecastã‚«ãƒ¼ãƒ‰ */
    .forecast-side {
      padding: 20px;
      flex: 1; /* ç¸¦ã«ä¼¸ã³ã‚‹ */
      display: flex;
      flex-direction: column;
      justify-content: space-around;
    }

    /* Sunã‚«ãƒ¼ãƒ‰ */
    .sun-card {
      padding: 20px;
      flex: 0.8; /* Forecastã‚ˆã‚Šå°‘ã—å°ã•ã‚ */
      display: flex;
      flex-direction: column;
      justify-content: space-around;
    }

    /* --- ãƒã‚¤ãƒ©ã‚¤ãƒˆã®æ­£æ–¹å½¢ã‚°ãƒªãƒƒãƒ‰è¨­å®š --- */
    .highlight-grid {
      display: grid;
      grid-template-columns: 1fr 1fr; /* 2åˆ— */
      gap: 20px; /* ã‚«ãƒ¼ãƒ‰é–“ã®éš™é–“ */
      margin: auto 0;
    }

    .highlight-item {
      background: rgba(0,0,0,0.2);
      border-radius: 24px;
      padding: 10px;
      text-align: center;
      
      /* â˜…ã“ã“ãŒé‡è¦ï¼šæ­£æ–¹å½¢ã«ã™ã‚‹è¨­å®š */
      aspect-ratio: 1 / 1; 
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    /* --- ãƒ•ã‚©ãƒ³ãƒˆãƒ»ã‚¢ã‚¤ã‚³ãƒ³ç­‰ã®è©³ç´°è¨­å®š --- */
    .forecast-item { text-align: center; padding: 5px 0; border-bottom: 1px solid #5a5a5a; }
    .forecast-item:last-child { border-bottom: none; }
    
    .sun-item { text-align: center; }
    .sun-label { font-size: 0.75em; color: #aaa; margin-bottom: 4px; letter-spacing: 1px; }
    .sun-value { font-size: 1.3em; font-weight: bold; }

    .highlight-label { font-size: 0.7em; color: #aaa; text-transform: uppercase; margin-bottom: 5px; }
    .highlight-value { font-size: 1.8em; font-weight: bold; } /* æ•°å­—ã‚’å°‘ã—å¤§ãã */
    
    .hourly-item { text-align: center; min-width: 60px; }
    .hourly-time { font-size: 1.1em; color: #ccc; margin-bottom: 8px; }
    .hourly-temp { font-weight: bold; font-size: 1.4em; margin-top: 8px; }
    .h-icon-large { font-size: 2.5em; display: block; }

    .info-item { margin-bottom: 10px; font-size: 1.1em; color: #ccc; }
    .temp-display { font-size: 4.5em; font-weight: bold; }
    .weather-icon { font-size: 6em; line-height: 1; }
    .weather-text { font-size: 1.8em; font-weight: bold; text-transform: uppercase; }
    .day-name { font-size: 0.8em; color: #aaa; text-transform: uppercase; }
    .warning { color: #ff6b6b; font-weight: bold; }
    .highlight-title { text-align: center; margin-bottom: 25px; font-size: 1.3em; letter-spacing: 1px; }

    .sidebar {
  width: 80px;
  height: 100vh;
  background: #f0f0f0; /* ã‚°ãƒ¬ãƒ¼ã®èƒŒæ™¯ */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 30px 0;
  position: fixed; /* å·¦å´ã«å›ºå®š */
  left: 0;
  top: 0;
  box-sizing: border-box;
}

/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®åˆ†ã ã‘å³ã«ãšã‚‰ã™ */
.main-content {
  margin-left: 80px; /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å¹…ã¨åŒã˜ */
  flex: 1;
  padding: 40px;
}

/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ã®è¨­å®š */
.nav-icons, .nav-bottom {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.nav-item {
  text-decoration: none;
  font-size: 1.8em;
  transition: transform 0.2s, color 0.2s;
  cursor: pointer;
}

.nav-item:hover {
  color: #000;
  transform: scale(1.1);
}

.nav-item.active {
  
  padding-left: 4px;
  background-color: rgba(0,0,0,0.02);
}

/* --- ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã®è¨­å®š --- */

/* Whiteãƒ¢ãƒ¼ãƒ‰: æ˜ã‚‹ã„ã‚°ãƒ¬ãƒ¼ã¨ç™½ */
body.White {
    --bg-dark: #f0f0f0;
    --card-bg: #ffffff;
    --panel-bg: #ffffff;
    --text-main: #96b6ff;
    --accent-color: #2c3e50;
    --normal-color: #999999;
}

/* Woodãƒ¢ãƒ¼ãƒ‰: æ¸©ã‹ã¿ã®ã‚ã‚‹èŒ¶ç³» */
body.Wood {
    --bg-dark: #5d4037;
    --card-bg: #8d6e63;
    --panel-bg: #795548;
    --text-main: #fff3e0;
    --accent-color: #ffe082;
    --normal-color: #d7ccc8;
}

/* bodyã®èƒŒæ™¯è‰²ã‚’å¤‰æ•°ã«ã™ã‚‹ã‚ˆã†ä¿®æ­£ */
body {
    margin: 0;
    background-color: var(--bg-dark); /* å›ºå®šè‰²ã‹ã‚‰å¤‰æ•°ã«å¤‰æ›´ */
    color: var(--text-main);
    transition: background-color 0.3s, color 0.3s; /* åˆ‡ã‚Šæ›¿ãˆã‚’æ»‘ã‚‰ã‹ã« */
}

  </style>
</head>
<body th:class="${mode}">
  <nav class="sidebar">
    <div class="nav-icons">
      <a href="/index" class="nav-item active">ğŸ </a>
      <a href="/stats" class="nav-item">ğŸ“Š</a>
      <a href="/train" class="nav-item">ğŸš†</a>
    </div>
    <div class="nav-bottom">
      <a href="/settings" class="nav-item">âš™ï¸</a>
    </div>
  </nav>

  <main class="main-content">
    <h1>Weather Dashboard</h1>

    <div class="dashboard-wrapper">
      
      <div class="left-column">
        <div class="card">
          <div class="today-left">
            <div class="info-item">Date: <span th:text="${today.date}"></span></div>
            <div class="info-item">Time: <span th:text="${today.time}"></span></div>
            <div class="info-item" style="margin-top: 15px;">Train: 
                <span th:if="${today.trainDelayRisk}" class="warning">âš ï¸ Delay</span>
                <span th:unless="${today.trainDelayRisk}">âœ… Normal</span>
            </div>
            <div class="temp-display"><span th:text="${today.temperature}"></span>â„ƒ</div>
          </div>
          <div class="today-right" style="text-align: center;">
            <div class="weather-icon">
              <span th:if="${today.weatherType.name() == 'SUNNY'}">â˜€ï¸</span>
              <span th:if="${today.weatherType.name() == 'CLOUDY'}">â˜ï¸</span>
              <span th:if="${today.weatherType.name() == 'RAIN'}">ğŸŒ§ï¸</span>
              <span th:if="${today.weatherType.name() == 'SNOW'}">â„ï¸</span>
            </div>
            <div class="weather-text" th:text="${today.weatherType}"></div>
          </div>
        </div>

        <div class="hourly-container">
          <div th:each="hour : ${hourlyList}" class="hourly-item">
              <div class="hourly-time" th:text="${hour.time}"></div>
              <div class="h-icon-large">
                  <span th:if="${hour.weatherType.name() == 'SUNNY'}">â˜€ï¸</span>
                  <span th:if="${hour.weatherType.name() == 'CLOUDY'}">â˜ï¸</span>
                  <span th:if="${hour.weatherType.name() == 'RAIN'}">ğŸŒ§ï¸</span>
                  <span th:if="${hour.weatherType.name() == 'SNOW'}">â„ï¸</span> 
              </div>
              <div class="hourly-temp"><span th:text="${hour.temperature}"></span>Â°</div>
          </div>
        </div>
      </div>

      <div class="right-column-container">
        <div class="forecast-sun-column">
          <div class="forecast-side">
            <div th:each="forecast : ${forecastList}" class="forecast-item">
              <div class="day-name" th:text="${forecast.dayOfWeek}"></div>
              <div style="font-size: 2em; margin: 2px 0;">
                <span th:if="${forecast.weatherType.name() == 'SUNNY'}">â˜€ï¸</span>
                <span th:if="${forecast.weatherType.name() == 'CLOUDY'}">â˜ï¸</span>
                <span th:if="${forecast.weatherType.name() == 'RAIN'}">ğŸŒ§ï¸</span>
                <span th:if="${forecast.weatherType.name() == 'SNOW'}">â„ï¸</span> <span th:unless="${forecast.weatherType.name() == 'SUNNY' OR forecast.weatherType.name() == 'CLOUDY' OR forecast.weatherType.name() == 'RAIN' OR forecast.weatherType.name() == 'SNOW'}"th:text="${forecast.weatherType}" style="font-size: 0.5em;"></span>
              </div>
            </div>
          </div>

          <div class="sun-card">
            <div class="sun-item">
              <div class="sun-label">Sunrise</div>
              <div class="sun-value" th:text="${sun.sunrise}"></div>
            </div>
            <div class="sun-item">
              <div class="sun-label">Sunset</div>
              <div class="sun-value" th:text="${sun.sunset}"></div>
            </div>
            <div class="sun-item">
              <div class="sun-label">Length of day</div>
              <div class="sun-value" th:text="${sun.dayLength}"></div>
            </div>
          </div>
        </div>

        <div class="highlight-column">
          <div class="highlight-side">
            <h2 class="highlight-title">Today Highlight</h2>
            <div class="highlight-grid">
              <div class="highlight-item">
                <div class="highlight-label">chance of rain</div>
                <div class="highlight-value"><span th:text="${highlight.chanceOfRain}"></span>%</div>
              </div>
              <div class="highlight-item">
                <div class="highlight-label">UV index</div>
                <div class="highlight-value" th:text="${highlight.uvIndex}"></div>
              </div>
              <div class="highlight-item">
                <div class="highlight-label">wind</div>
                <div class="highlight-value"><span th:text="${highlight.windSpeed}"></span><span style="font-size:0.5em">m/s</span></div>
              </div>
              <div class="highlight-item">
                <div class="highlight-label">humidity</div>
                <div class="highlight-value"><span th:text="${highlight.humidity}"></span>%</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div> </main> </body>
